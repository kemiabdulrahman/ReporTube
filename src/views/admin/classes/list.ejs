<%- include('../../partials/header', { title: 'Classes Management' }) %>

<section class="section">
  <div class="container">

    <!-- Header / Actions -->
    <div class="level mb-5">
      <div class="level-left">
        <h2 class="title is-3">
          <span class="icon"><i class="mdi mdi-google-classroom"></i></span>
          <span>Classes Management</span>
        </h2>
      </div>
      <div class="level-right">
        <a href="/admin/classes/add" class="button is-primary">
          <span class="icon"><i class="mdi mdi-plus-circle"></i></span>
          <span>Add New Class</span>
        </a>
      </div>
    </div>

    <!-- Classes Table -->
    <div class="box">
      <div class="level mb-3">
        <div class="level-left">
          <h5 class="title is-5">
            <span class="icon"><i class="mdi mdi-format-list-bulleted"></i></span>
            <span>Classes List</span>
          </h5>
        </div>
        <div class="level-right">
          <span class="tag is-primary is-medium"><%= classes.length %></span>
        </div>
      </div>

      <% if (classes.length > 0) { %>
        <div class="table-container">
          <table class="table is-striped is-hoverable is-fullwidth">
            <thead>
              <tr>
                <th>Name</th>
                <th>Level</th>
                <th>Academic Year</th>
                <th class="has-text-centered">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% classes.forEach(cls => { %>
                <tr>
                  <td><strong><%= cls.name %></strong></td>
                  <td><%= cls.level %></td>
                  <td><%= cls.academic_year %></td>
                  <td class="has-text-centered">
                    <div class="buttons are-small is-centered">
                      <a href="/admin/classes/<%= cls.id %>" class="button is-info is-light" title="View Details">
                        <span class="icon"><i class="mdi mdi-eye"></i></span>
                      </a>
                      <form action="/admin/classes/delete/<%= cls.id %>" method="POST" style="display:inline;">
                        <button type="submit" class="button is-danger is-light"
                          onclick="return confirm('Are you sure you want to delete this class?')"
                          title="Delete">
                          <span class="icon"><i class="mdi mdi-trash-can-outline"></i></span>
                        </button>
                      </form>
                    </div>
                  </td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        </div>
      <% } else { %>
        <div class="has-text-centered py-6">
          <span class="icon is-large has-text-grey-light" style="font-size: 3rem;">
            <i class="mdi mdi-inbox-outline"></i>
          </span>
          <p class="has-text-grey mt-3">No classes found.</p>
          <a href="/admin/classes/add" class="button is-primary mt-3">
            <span class="icon"><i class="mdi mdi-plus-circle"></i></span>
            <span>Add Your First Class</span>
          </a>
        </div>
      <% } %>
    </div>
  </div>
</section>

<%- include('../../partials/footer') %>
